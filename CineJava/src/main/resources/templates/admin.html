<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
	<title>Ejemplo de un CRUD completo</title>
</head>
<body>
<div id="menu">
	<a th:href="@{/list}">Inicio</a> | <a th:href="@{/nuevo}">Nuevo cliente</a>
</div>
<br /><br />
<table border=1>
	<thead>
		<tr>
			<th>Id</th>
			<th>Nombre</th>
			<th>Apellidos</th>
			<th>email</th>
			<th>Operar</th>
		</tr>
	</thead>
	<tbody>
		<tr th:each="usuario : ${lista}">
			<td th:text="${usuario.id}">1</td>
			<td th:text="${usuario.nombre}">Nombre cliente</td>
			<td th:text="${usuario.apellidos}">Apellidos</td>
			<td th:text="${usuario.email}">Email</td>
			
<!-- Estamos "montando las rutas" que aparecen como enlaces (editar y borrar) 
en la tabla de alumnos ya que estas cambian al pinchar en 
un alumno en concreto recogiendo el id de dicho alumno 
y así poder acceder a su información. Para ello:

* Usamos como siempre en th @{ }
* La primera parte (la parte que no varía podríamos decir) es igual a las vistas de otras ocasiones, 
por ejemplo, th:href="@{/editar/más si hubiera otras"
* Después agregamos las llaves con id para que sea reconocido 
como un parámetro o parte de la ruta "que va a cambiar"
* Dentro de paréntesis, asignamos un valor a dicho id, 
en este caso como es el atributo de la entidad, usamos la forma normal de th
para el uso de variables, es decir, símbolo de dólar y el nombre del objeto.nombreatributo, 
quedando como puede verse en el código
* Con esto, tendremos el id del alumno que pinchemos en la tabla

-->
			<td>
				<a href="#" th:href="@{/editar/{id}(id=${usuario.id})}">Editar</a> | 
				<a href="#" th:href="@{/borrar/{id}(id=${usuario.id})}">Borrar</a>
			</td>
		</tr>
	</tbody>
</table>

<table class="table table-dark table-hover table-sm">
	<thead>
	  <tr>
		<th scope="col">ID</th>
		<th scope="col">Nombre</th>
		<th scope="col">Apellidos</th>
		<th scope="col">Correo</th>
		<th scope="col">Fecha Nacimiento</th>
		<th scope="col">Operar</th>
	  </tr>
	</thead>
	<tbody>
	  <tr th:each="usuario : ${lista}">
		<th th:text="${usuario.id}" scope="row">1</th>
		<td th:text="${usuario.nombre}">Mark</td>
		<td th:text="${usuario.apellidos}">Otto</td>
		<td th:text="${usuario.email}">@mdo</td>
		<td th:text="${usuario.fechaNac}">0000-00-00</td>
		<td>
			<a href="#" th:href="@{/editar/{id}(id=${usuario.id})}"><i class="bi-pencil-square"></i></a> | 
			<a href="#" th:href="@{/borrar/{id}(id=${usuario.id})}"><i class="bi-trash3"></i></a>
		</td>
	  </tr>
	</tbody>
</table>
</body>
</html>